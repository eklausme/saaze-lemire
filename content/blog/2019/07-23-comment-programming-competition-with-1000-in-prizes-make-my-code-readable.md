---
date: "2019-07-23 12:00:00"
title: "Programming competition with $1000 in prizes: make my code readable!"
index: false
---

[7 thoughts on &ldquo;Programming competition with $1000 in prizes: make my code readable!&rdquo;](/lemire/blog/2019/07-23-programming-competition-with-1000-in-prizes-make-my-code-readable)

<ol class="comment-list">
<li id="comment-419699" class="comment even thread-even depth-1 parent">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4d15a817efd25b5fe05594853f95ef10?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/4d15a817efd25b5fe05594853f95ef10?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" decoding="async" /> <b class="fn"><a href="http://www.ucd.ie/research/people/mechanicalmaterialseng/assoc%20professoraluncarr/" class="url" rel="ugc external nofollow">Alun J. Carr</a></b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-23T21:59:12+00:00">July 23, 2019 at 9:59 pm</time></a> </div>
<div class="comment-content">
<p>A pity that the contest is not directed at PCG:</p>
<p><a href="http://www.pcg-random.org" rel="nofollow">http://www.pcg-random.org</a></p>
<p>However, since the <a href="http://www.pcg-random.org/download.html" rel="nofollow">C code</a> is so simple, I&rsquo;m not sure that it can be further simplified.</p>
</div>
<ol class="children">
<li id="comment-419719" class="comment byuser comment-author-lemire bypostauthor odd alt depth-2">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/2ca999bef9535950f5b84281a4dab006?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/2ca999bef9535950f5b84281a4dab006?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" decoding="async" /> <b class="fn"><a href="https://lemire.me/en/" class="url" rel="ugc">Daniel Lemire</a></b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-24T00:37:37+00:00">July 24, 2019 at 12:37 am</time></a> </div>
<div class="comment-content">
<p>My impression is that there is no rule against PCG.</p>
</div>
</li>
<li id="comment-419826" class="comment even depth-2">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/c6937532928911c0dae3c9c89b658c09?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/c6937532928911c0dae3c9c89b658c09?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" loading="lazy" decoding="async" /> <b class="fn">Travis Downs</b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-24T17:20:25+00:00">July 24, 2019 at 5:20 pm</time></a> </div>
<div class="comment-content">
<p>As far as I can tell, PCG and the algorithm the contest is about are orthogonal or even complementary: the former is a way of creating uniform random bits, and the latter is a way Daniel proposes of taking random bits and creating an uniform integer within a given range.</p>
<p>So you can use PCG, or any other bit-producing RNG to feed Daniel&rsquo;s algorithm.</p>
</div>
</li>
</ol>
</li>
<li id="comment-419825" class="comment odd alt thread-odd thread-alt depth-1 parent">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/99aa38650ec945f5c7e911d405ea9677?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/99aa38650ec945f5c7e911d405ea9677?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" loading="lazy" decoding="async" /> <b class="fn">MyName</b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-24T17:13:13+00:00">July 24, 2019 at 5:13 pm</time></a> </div>
<div class="comment-content">
<p>Where should the contribution be submitted?</p>
</div>
<ol class="children">
<li id="comment-419831" class="comment byuser comment-author-lemire bypostauthor even depth-2">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/2ca999bef9535950f5b84281a4dab006?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/2ca999bef9535950f5b84281a4dab006?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" loading="lazy" decoding="async" /> <b class="fn"><a href="https://lemire.me/en/" class="url" rel="ugc">Daniel Lemire</a></b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-24T18:05:19+00:00">July 24, 2019 at 6:05 pm</time></a> </div>
<div class="comment-content">
<p>I suggest reaching out to Colm on Twitter.</p>
</div>
</li>
</ol>
</li>
<li id="comment-420556" class="comment odd alt thread-even depth-1">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4b73ad2b0552e183aaf4ee8c8e5854fe?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/4b73ad2b0552e183aaf4ee8c8e5854fe?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" loading="lazy" decoding="async" /> <b class="fn">anon</b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-28T11:55:03+00:00">July 28, 2019 at 11:55 am</time></a> </div>
<div class="comment-content">
<p>You&rsquo;ll be glad to hear that julialang is also in the process to migrating to your algorithm (<a href="https://github.com/JuliaLang/julia/pull/29240" rel="nofollow">PR here</a>), with proper attribution. I&rsquo;m not rfourquet, so I don&rsquo;t know whether you accept my nomination on his behalf.</p>
<p>On a different note, we recently adopted a similar strategy for unpacking bit-arrays to the one you propagate on your blog (we arrived on the same solution independently of you, as countless of others before either of us). This is used for matlab-style logical indexing (<a href="https://github.com/JuliaLang/julia/pull/29746" rel="nofollow">PR here</a>).</p>
</div>
</li>
<li id="comment-420890" class="comment even thread-odd thread-alt depth-1">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/331059294e89906fef3d785f06820025?s=56&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/331059294e89906fef3d785f06820025?s=112&#038;d=mm&#038;r=g 2x" class="avatar avatar-56 photo" height="56" width="56" loading="lazy" decoding="async" /> <b class="fn">KWillets</b> <span class="says">says:</span> </div>
<div class="comment-metadata"><time datetime="2019-07-29T20:17:27+00:00">July 29, 2019 at 8:17 pm</time></a> </div>
<div class="comment-content">
<p>I was looking at this over the weekend, and I&rsquo;m not sure if my ideas would make the code more, or less readable.</p>
<p>The 64-bit multiplication and 32-bit extractions are really just fixed-point arithmetic, and I was looking at rewriting this with some kind of fixed point library, but I didn&rsquo;t find anything convenient.</p>
<p>I did come up with the idea of saving (-range % range) between calls with some kind of RangeGenerator object. That&rsquo;s not much use in shuffling, but it may be in other contexts.</p>
<p>Another tricky part is compile time vs. runtime optimization, since eg the modulus could be computed at compile time in the case of a constant range. The runtime version should be lazy-evaluated, but compile time should not.</p>
</div>
</li>
</ol>
